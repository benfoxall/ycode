import e,{createContext as E,useContext as m,useState as d}from"../../web_modules/react.js";const c=E(!1);export const PickFile=({onFile:n,file:t,children:a})=>e.createElement(u,{onFile:n,file:t},t?a:e.createElement(p,{onFile:n,file:t}));const p=({onFile:n})=>{const t=m(c),a=async()=>{const o=await window.showOpenFilePicker();n(o[0])};return e.createElement("main",null,e.createElement("h1",null,"Ycode"),e.createElement("p",null,e.createElement("a",{href:"#",onClick:a},t?"Drop":"Choose"," a file to edit ")))},u=({onFile:n,children:t})=>{const[a,o]=d(!1),_=r=>{r.preventDefault(),o(!0)},l=r=>{r.preventDefault(),o(!1)},i=async r=>{r.preventDefault();try{const s=r.dataTransfer.items[0],g=await s.getAsFileSystemHandle();n(g)}catch(s){console.error("err",s)}};return e.createElement("div",{className:"App",onDrop:i,onDragOver:_,onDragLeave:l},e.createElement(c.Provider,{value:a},t))};
