import*as a from"../web_modules/yjs.js";import{WebrtcProvider as m}from"../web_modules/y-webrtc.js";const i=":room:",t=window;if(!t.yi){let e=!0,o=sessionStorage.getItem(i)||[Math.random().toString(32).slice(2),Math.random().toString(32).slice(2)].join("~");sessionStorage.setItem(i,o),location.search&&(e=!1,o=location.search.slice(1));const s=new a.Doc,[r,n]=o.split("~"),c=new m(r,s,{password:n});t.yi={room:o,doc:s,provider:c,initiator:e}}const l=t.yi;export default l;
